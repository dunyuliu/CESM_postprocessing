<?xml version="1.0"?>

<machine_postprocess>

  <machine name="dav" hostname="dav,geyser,caldera,pronghorn,casper">
    <timeseries_pes  nodes="4" pes_per_node="16" wallclock="04:00:00" memory="100G">64</timeseries_pes>
    <xconform_pes  nodes="4" pes_per_node="16" wallclock="06:00:00" memory="100G">64</xconform_pes>
    <ocn_remap_pes  nodes="4" pes_per_node="9" wallclock="08:00:00" memory="100G">32</ocn_remap_pes>
    <mpi_command>srun</mpi_command>
    <pythonpath></pythonpath>
    <f2py fcompiler="intelem" f77exec="/glade/apps/opt/modulefiles/ys/cmpwrappers/ifort">f2py</f2py>
    <za>
      <compiler>ifort</compiler>
      <flags>-c -g -O2</flags>
      <include>-I/glade/u/apps/dav/opt/netcdf/4.6.1/intel/17.0.1/include</include>
      <libs>-L/glade/u/apps/dav/opt/netcdf/4.6.1/intel/17.0.1/lib -lnetcdff -lnetcdf</libs>
    </za>
    <reset_modules>
      <module>module purge</module>
    </reset_modules>
    <modules>
      <module>module load intel/17.0.1</module>
      <module>module load ncarenv</module>
      <module>module load ncarcompilers</module>
      <module>module load impi</module>
      <module>module load netcdf/4.6.1</module>
      <module>module load nco/4.7.4</module>
      <module>module load ncl/6.6.2</module>
    </modules>
    <components>
      <component name="atm">
	<averages_pes  nodes="4" pes_per_node="8" wallclock="02:00:00" memory="100G">32</averages_pes>
	<diagnostics_pes  nodes="1" pes_per_node="16" wallclock="02:00:00" memory="100G">16</diagnostics_pes>
	<regrid_pes  nodes="1" pes_per_node="6" wallclock="02:00:00" memory="100G">6</regrid_pes>
	<obs_root>/glade/p/cesm/amwg/amwg_data</obs_root>
      </component>
      <component name="ice">
	<averages_pes  nodes="4" pes_per_node="8" wallclock="02:00:00" memory="100G">32</averages_pes>
	<diagnostics_pes  nodes="1" pes_per_node="4" wallclock="01:00:00" memory="100G">4</diagnostics_pes>
	<obs_root>/glade/p/cesm/pcwg/ice/data</obs_root>
      </component>
      <component name="lnd">
	<averages_pes  nodes="4" pes_per_node="8" wallclock="02:00:00" memory="100G">32</averages_pes>
 	<diagnostics_pes  nodes="1" pes_per_node="12" wallclock="02:00:00" memory="100G">12</diagnostics_pes>
	<regrid_pes  nodes="1" pes_per_node="6" wallclock="02:00:00" memory="100G">6</regrid_pes>
	<obs_root>/glade/p/cesm/lmwg/diag/lnd_diag_data</obs_root>
      </component>
      <component name="ocn">
	<averages_pes  nodes="4" pes_per_node="8" wallclock="02:00:00" memory="100G">32</averages_pes>
	<diagnostics_pes  nodes="1" pes_per_node="16" wallclock="02:00:00" memory="100G">16</diagnostics_pes>
	<obs_root>/glade/p/cesm/</obs_root>
      </component>
      <component name="ilamb">
	<diagnostics_pes  nodes="1" pes_per_node="2" wallclock="01:00:00" memory="100G">2</diagnostics_pes>
	<initialize_pes  nodes="1" pes_per_node="1" wallclock="00:00:10" memory="1G">1</initialize_pes>
	<obs_root>/glade/p/cesm/lmwg_dev/oleson/ILAMB/ILAMB_all</obs_root>
      </component>
      <component name="iomb">
	<diagnostics_pes  nodes="1" pes_per_node="2" wallclock="01:00:00" memory="100G">2</diagnostics_pes>
	<initialize_pes  nodes="1" pes_per_node="1" wallclock="00:00:10" memory="1G">1</initialize_pes>
	<obs_root>/glade/p/cesm/omwg/obs_data/IOMB</obs_root>
      </component>
    </components>
  </machine>

  <machine name="geyser" hostname="geyser">
    <timeseries_pes queue="geyser" nodes="4" pes_per_node="16" wallclock="04:00:00" memory="100G">64</timeseries_pes>
    <xconform_pes queue="geyser" nodes="4" pes_per_node="16" wallclock="06:00:00" memory="100G">64</xconform_pes>
    <mpi_command>srun</mpi_command>
    <pythonpath></pythonpath>
    <f2py fcompiler="intelem" f77exec="/glade/apps/opt/modulefiles/ys/cmpwrappers/ifort">f2py</f2py>
    <za>
      <compiler>ifort</compiler>
      <flags>-c -g -O2</flags>
      <include>-I/glade/u/apps/dav/opt/netcdf/4.6.1/intel/17.0.1/include</include>
      <libs>-L/glade/u/apps/dav/opt/netcdf/4.6.1/intel/17.0.1/lib -lnetcdff -lnetcdf</libs>
    </za>
    <reset_modules>
      <module>module purge</module>
    </reset_modules>
    <modules>
      <module>module load python/2.7.14</module>
      <module>module load intel/17.0.1</module>
      <module>module load ncarenv</module>
      <module>module load ncarcompilers</module>
      <module>module load impi</module>
      <module>module load netcdf/4.6.1</module>
      <module>module load nco/4.7.4</module>
      <module>module load ncl/6.4.0</module>
    </modules>
    <components>
      <component name="atm">
	<averages_pes queue="geyser" nodes="4" pes_per_node="8" wallclock="02:00:00" memory="100G">32</averages_pes>
	<diagnostics_pes queue="geyser" nodes="1" pes_per_node="16" wallclock="02:00:00" memory="100G">16</diagnostics_pes>
	<regrid_pes queue="geyser" nodes="1" pes_per_node="6" wallclock="02:00:00" memory="100G">6</regrid_pes>
	<obs_root>/glade/p/cesm/amwg/amwg_data</obs_root>
      </component>
      <component name="ice">
	<averages_pes queue="geyser" nodes="4" pes_per_node="8" wallclock="02:00:00" memory="100G">32</averages_pes>
	<diagnostics_pes queue="geyser" nodes="1" pes_per_node="4" wallclock="01:00:00" memory="100G">4</diagnostics_pes>
	<obs_root>/glade/p/cesm/pcwg/ice/data</obs_root>
      </component>
      <component name="lnd">
	<averages_pes queue="geyser" nodes="4" pes_per_node="8" wallclock="02:00:00" memory="100G">32</averages_pes>
 	<diagnostics_pes queue="geyser" nodes="1" pes_per_node="12" wallclock="02:00:00" memory="100G">12</diagnostics_pes>
	<regrid_pes queue="geyser" nodes="1" pes_per_node="6" wallclock="02:00:00" memory="100G">6</regrid_pes>
	<obs_root>/glade/p/cesm/lmwg/diag/lnd_diag_data</obs_root>
      </component>
      <component name="ocn">
	<averages_pes queue="geyser" nodes="4" pes_per_node="8" wallclock="02:00:00" memory="100G">32</averages_pes>
	<diagnostics_pes queue="geyser" nodes="1" pes_per_node="16" wallclock="02:00:00" memory="100G">16</diagnostics_pes>
	<obs_root>/glade/p/cesm/</obs_root>
      </component>
      <component name="ilamb">
	<diagnostics_pes queue="geyser" nodes="1" pes_per_node="2" wallclock="01:00:00" memory="100G">2</diagnostics_pes>
	<initialize_pes queue="geyser" nodes="1" pes_per_node="1" wallclock="00:00:10" memory="1G">1</initialize_pes>
	<obs_root>/glade/p/cesm/lmwg_dev/oleson/ILAMB/ILAMB_all</obs_root>
      </component>
      <component name="iomb">
	<diagnostics_pes queue="geyser" nodes="1" pes_per_node="2" wallclock="01:00:00" memory="100G">2</diagnostics_pes>
	<initialize_pes queue="geyser" nodes="1" pes_per_node="1" wallclock="00:00:10" memory="1G">1</initialize_pes>
	<obs_root>/glade/p/cesm/omwg/obs_data/IOMB</obs_root>
      </component>
    </components>
  </machine>

  <machine name="cheyenne" hostname="cheyenne">
    <timeseries_pes queue="regular" nodes="16" pes_per_node="9" wallclock="12:00:00">144</timeseries_pes>
    <xconform_pes queue="regular" nodes="16" pes_per_node="4" wallclock="12:00:00">64</xconform_pes>
    <ocn_remap_pes queue="regular" nodes="4" pes_per_node="9" wallclock="08:00:00">32</ocn_remap_pes>
    <mpi_command>mpiexec_mpt dplace -s 1</mpi_command>
    <pythonpath></pythonpath>
    <f2py fcompiler="intelem" f77exec="/glade/u/apps/ch/opt/ncarcompilers/0.4.1/mpi/ifort">f2py</f2py>
    <za>
      <compiler>gfortran</compiler>
      <flags>-c -g -O2</flags>
      <include>-I/glade/u/apps/ch/opt/netcdf/4.6.3/gnu/8.3.0/include</include>
      <libs>-L/glade/u/apps/ch/opt/netcdf/4.6.3/gnu/8.3.0/lib -lnetcdff -lnetcdf</libs>
    </za>
    <reset_modules>
      <module>module purge</module>
    </reset_modules>
    <modules>
      <module>module load gnu/8.3.0</module>
      <module>module load ncarenv</module>
      <module>module load ncarcompilers</module>
      <module>module load mpt/2.19</module>
      <module>module load netcdf/4.6.3</module>
      <module>module load nco/4.7.9</module>
      <module>module load ncl/6.6.2</module>
    </modules>
    <components>
      <component name="atm">
	<averages_pes queue="regular" nodes="4" pes_per_node="18" wallclock="01:00:00">72</averages_pes>
	<diagnostics_pes queue="regular" nodes="1" pes_per_node="18" wallclock="01:00:00">18</diagnostics_pes>
	<regrid_pes queue="regular" nodes="1" pes_per_node="16" wallclock="01:00:00">36</regrid_pes>
	<obs_root>/glade/p/cesm/amwg/amwg_data</obs_root>
      </component>
      <component name="ice">
	<averages_pes queue="regular" nodes="4" pes_per_node="4" wallclock="01:00:00">16</averages_pes>
	<diagnostics_pes queue="regular" nodes="1" pes_per_node="8" wallclock="01:00:00">8</diagnostics_pes>
	<obs_root>/glade/p/cesm/pcwg/ice/data</obs_root>
      </component>
      <component name="lnd">
	<averages_pes queue="regular" nodes="4" pes_per_node="18" wallclock="01:00:00">72</averages_pes>
	<diagnostics_pes queue="regular" nodes="1" pes_per_node="16" wallclock="01:00:00">16</diagnostics_pes>
	<regrid_pes queue="regular" nodes="1" pes_per_node="12" wallclock="01:00:00">12</regrid_pes>
	<obs_root>/glade/p/cesm/lmwg/diag/lnd_diag_data</obs_root>
      </component>
      <component name="ocn">
	<averages_pes queue="regular" nodes="4" pes_per_node="4" wallclock="01:00:00">16</averages_pes>
	<diagnostics_pes queue="regular" nodes="1" pes_per_node="16" wallclock="01:00:00">16</diagnostics_pes>
	<obs_root>/glade/p/cesm/</obs_root>
      </component>
      <component name="ilamb">
	<diagnostics_pes queue="regular" nodes="1" pes_per_node="8" wallclock="00:30:00">8</diagnostics_pes>
	<initialize_pes queue="share" nodes="1" pes_per_node="1" wallclock="00:01:00">1</initialize_pes>
	<obs_root>/glade/p/cesm/lmwg_dev/oleson/ILAMB/ILAMB_all</obs_root>
      </component>
      <component name="iomb">
	<diagnostics_pes queue="regular" nodes="1" pes_per_node="8" wallclock="00:30:00">8</diagnostics_pes>
	<initialize_pes queue="share" nodes="1" pes_per_node="1" wallclock="00:01:00">1</initialize_pes>
	<obs_root>/glade/p/cesm/omwg/obs_data/IOMB</obs_root>
      </component>
    </components>
  </machine>

<!-- TODO - Edison settings need to be updated -->
  <machine name="edison" hostname="edison">
    <timeseries_pes queue="regular" wallclock="02:00">144</timeseries_pes>
    <xconform_pes queue="regular" wallclock="06:00">144</xconform_pes>
    <mpi_command>aprun -n {{ pes }}</mpi_command>
    <pythonpath>/global/project/projectdirs/ccsm1/pythonlib/lib/python2.7/site-packages/PyNIO</pythonpath>
    <f2py fcompiler="intelem" f77exec="/opt/intel/composer_xe_2015.1.133/bin/intel64/ifort">f2py</f2py>
    <za>
      <compiler>ifort</compiler>
      <flags>-c -g -O2</flags>
      <include>-I-I/opt/cray/netcdf/4.3.2/INTEL/140/include</include>
      <libs>-L/opt/cray/netcdf/4.3.2/INTEL/140/lib -lnetcdff -L/opt/cray/hdf5/1.8.13/INTEL/140/lib -lnetcdf</libs>
    </za>
    <reset_modules>
      <module>module restore system</module>
      <module>module load python/2.7.7</module>
    </reset_modules>
    <modules>
      <module>module load python/2.7.9</module>
      <module>module load virtualenv/12.1.1</module>
      <module>module load numpy/1.9.2</module>
      <module>module load scipy/0.15.1</module>
      <module>module load mpi4py/2.0.0</module>
      <module>module load matplotlib/1.4.3</module>
      <module>module load nco/4.3.9</module>
      <module>module load ncl/6.1.1</module>
      <module>module load cray-netcdf/4.3.2</module>
      <module>module load cray-hdf5/1.8.13</module>
    </modules>
    <components>
      <component name="atm">
	<averages_pes queue="regular" pes_per_node="4" wallclock="00:30">120</averages_pes>
	<diagnostics_pes queue="regular" pes_per_node="4" wallclock="02:00">24</diagnostics_pes>
	<regrid_pes queue="geyser" pes_per_node="2" wallclock="02:00">6</regrid_pes>
	<obs_root>/global/project/projectdirs/ccsm1</obs_root>
      </component>
      <component name="ice">
	<averages_pes queue="regular" pes_per_node="2" wallclock="00:30">120</averages_pes>
	<diagnostics_pes queue="regular" pes_per_node="2" wallclock="00:30">4</diagnostics_pes>
	<obs_root>/global/project/projectdirs/ccsm1/pcwg/ice/data</obs_root>
      </component>
      <component name="lnd">
	<averages_pes queue="regular" pes_per_node="2" wallclock="02:00">120</averages_pes>
	<diagnostics_pes queue="regular" pes_per_node="4" wallclock="02:00">12</diagnostics_pes>
	<regrid_pes queue="geyser" pes_per_node="2" wallclock="02:00">6</regrid_pes>
	<obs_root>/global/project/projectdirs/ccsm1/lmwg/diag/lnd_diag4.2</obs_root>
      </component>
      <component name="ocn">
	<averages_pes queue="regular" pes_per_node="8" wallclock="00:30">120</averages_pes>
	<diagnostics_pes queue="regular" pes_per_node="4" wallclock="02:00">24</diagnostics_pes>
	<obs_root>/global/project/projectdirs/ccsm1</obs_root>
      </component>
    </components>
  </machine>

  <machine name="yellowstone" hostname="yslogin">
    <!-- IMPORTANT NOTE: yellowstone is no longer active but leaving this machine element for other PBS systems -->
    <!-- restricting to geyser for CMIP6 and problem with scaling of the chunking -->
    <timeseries_pes queue="geyser" pes_per_node="4" wallclock="02:00">32</timeseries_pes>
    <xconform_pes queue="geyser" pes_per_node="4" wallclock="06:00">32</xconform_pes>
    <mpi_command>mpirun.lsf</mpi_command>
    <pythonpath>/glade/apps/opt/python/2.7.7/gnu-westmere/4.8.2/lib/python2.7/site-packages</pythonpath>
    <f2py fcompiler="gfortran" f77exec="/usr/bin/gfortran">f2py</f2py>
    <za>
      <compiler>ifort</compiler>
      <flags>-c -g -O2</flags>
      <include>-I/glade/apps/opt/netcdf/4.2/intel/12.1.5/include</include>
      <libs>-L/glade/apps/opt/netcdf/4.2/intel/12.1.5/lib -lnetcdff -lnetcdf</libs>
    </za>
    <reset_modules>
      <module>module restore system</module>
      <module>module load python/2.7.7</module>
    </reset_modules>
    <modules>
      <module>module load numpy/1.11.0</module>
      <module>module load scipy/0.18.1</module>
      <module>module load mpi4py/2.0.0</module>
      <module>module load pynio/1.4.1</module>
      <module>module load pyside/1.1.2</module>
      <module>module load matplotlib/1.5.1</module>
      <module>module load intel/12.1.5</module>
      <module>module load netcdf/4.3.0</module>
      <module>module load nco/4.4.4</module>
      <module>module load netcdf4python/1.2.4</module>
      <module>module load ncl/6.4.0</module>
      <module>module load pyngl/1.4.0</module>
    </modules>
    <components>
      <component name="atm">
	<averages_pes queue="regular" pes_per_node="15" wallclock="00:30">120</averages_pes>
	<diagnostics_pes queue="geyser" pes_per_node="4" wallclock="02:00">16</diagnostics_pes>
	<regrid_pes queue="geyser" pes_per_node="2" wallclock="02:00">6</regrid_pes>
	<obs_root>/glade/p/cesm/amwg/amwg_data</obs_root>
      </component>
      <component name="ice">
	<averages_pes queue="regular" pes_per_node="15" wallclock="02:00">120</averages_pes>
	<diagnostics_pes queue="geyser" pes_per_node="2" wallclock="01:00">4</diagnostics_pes>
	<obs_root>/glade/p/cesm/pcwg/ice/data</obs_root>
      </component>
      <component name="lnd">
	<averages_pes queue="regular" pes_per_node="15" wallclock="02:00">120</averages_pes>
 	<diagnostics_pes queue="geyser" pes_per_node="4" wallclock="02:00">12</diagnostics_pes>
	<regrid_pes queue="geyser" pes_per_node="2" wallclock="02:00">6</regrid_pes>
	<obs_root>/glade/p/cesm/lmwg/diag/lnd_diag_data</obs_root>
      </component>
      <component name="ocn">
	<averages_pes queue="regular" pes_per_node="15" wallclock="02:00">120</averages_pes>
	<diagnostics_pes queue="geyser" pes_per_node="4" wallclock="02:00">16</diagnostics_pes>
	<obs_root>/glade/p/cesm/</obs_root>
      </component>
      <component name="ilamb">
	<diagnostics_pes queue="geyser" pes_per_node="2" wallclock="01:00">2</diagnostics_pes>
	<initialize_pes queue="geyser" pes_per_node="1" wallclock="00:10">1</initialize_pes>
	<obs_root>/glade/p/cesm/lmwg_dev/oleson/ILAMB/ILAMB_all</obs_root>
      </component>
      <component name="iomb">
	<diagnostics_pes queue="geyser" pes_per_node="2" wallclock="01:00">2</diagnostics_pes>
	<initialize_pes queue="geyser" pes_per_node="1" wallclock="00:10">1</initialize_pes>
	<obs_root>/glade/p/cesm/omwg/obs_data/IOMB</obs_root>
      </component>
    </components>
  </machine>

 <machine name="ada" hostname="login">
    <timeseries_pes queue="mn_small"  nodes="1" pes_per_node="3" wallclock="6:00" memory="18000">3</timeseries_pes>
    <xconform_pes  queue="mn_small" nodes="1" pes_per_node="3" wallclock="6:00" memory="18000">3</xconform_pes>
    <ocn_remap_pes  queue="mn_small" nodes="1" pes_per_node="3" wallclock="6:00" memory="18000">3</ocn_remap_pes>
    <mpi_command>mpirun</mpi_command>
    <pythonpath></pythonpath>
    <f2py fcompiler="gfortran" f77exec="/sw/eb/software/GCCcore/7.3.0/bin/gfortran">f2py</f2py>
    <za>
      <compiler>gfortran</compiler>
      <flags>-c -g -O2</flags>
      <include>-I/sw/eb/software/netCDF/4.6.1-foss-2018b-cdf5/include -I/sw/eb/software/netCDF-Fortran/4.4.4-foss-2018b/include</include>
      <libs>-L/sw/eb/software/netCDF-Fortran/4.4.4-foss-2018b/lib -lnetcdff -L/sw/eb/software/GCCcore/7.3.0/lib64 -L/sw/eb/software/GCCcore/7.3.0/lib -L/sw/eb/software/OpenBLAS/0.3.1-GCC-7.3.0-2.30/lib -L/sw/eb/software/ScaLAPACK/2.0.2-gompi-2018b-OpenBLAS-0.3.1/lib -L/sw/eb/software/FFTW/3.3.8-gompi-2018b/lib -L/sw/eb/software/netCDF/4.6.1-foss-2018b/lib64 -lnetcdf -lnetcdf -lm -lpthread</libs>
    </za>
    <reset_modules>
      <module>module purge</module>
    </reset_modules>
    <modules>
      <module>ml NCL/6.6.2-foss-2018b</module>
      <module>ml NCO/4.7.9-foss-2018b</module>
      <module>ml netCDF/4.6.1-foss-2018b-cdf5</module>
      <module>ml Python/2.7.15-foss-2018b</module>
<!--      <module>export PYTHONPATH=/ihesp/altuntas/CESM_postprocessing_cdf5/pynio/site-packages:$PYTHONPATH</module>
      <module>export PYTHONPATH=/ihesp/altuntas/CESM_postprocessing_cdf5/pynio/build/lib.linux-x86_64-2.7/PyNIO:$PYTHONPATH</module>
      <module>export PYNIOPATH=/ihesp/altuntas/CESM_postprocessing_cdf5/pynio/site-packages/PyNIO</module>-->
    </modules>
    <components>
      <component name="atm">
	<averages_pes queue="mn_small" nodes="1" pes_per_node="3" wallclock="6:00" memory="2000">3</averages_pes>
	<diagnostics_pes queue="mn_small" nodes="1" pes_per_node="3" wallclock="6:00" memory="2000">3</diagnostics_pes>
	<regrid_pes queue="mn_small" nodes="1" pes_per_node="3" wallclock="6:00" memory="18000">3</regrid_pes>
	<obs_root>/scratch/training/CESM_post/obs_root/amwg/amwg_data</obs_root> <!-- TODO: update this and other obs_roots -->
      </component>
      <component name="ice">
	<averages_pes queue="mn_small"  nodes="1" pes_per_node="4" wallclock="1:00" memory="2000">4</averages_pes>
	<diagnostics_pes queue="mn_small"  nodes="1" pes_per_node="4" wallclock="1:00" memory="2000">4</diagnostics_pes>
	<obs_root>/scratch/training/CESM_post/obs_root/pcwg/ice/data</obs_root>
      </component>
      <component name="lnd">
	<averages_pes queue="mn_small"  nodes="1" pes_per_node="3" wallclock="6:00" memory="18000">3</averages_pes>
	<diagnostics_pes queue="mn_small"  nodes="1" pes_per_node="3" wallclock="6:00" memory="18000">3</diagnostics_pes>
	<regrid_pes queue="mn_small" nodes="1" pes_per_node="3" wallclock="02:00:00" memory="18000">3</regrid_pes>
	<obs_root>/glade/p/cesm/lmwg/diag/lnd_diag_data</obs_root>
      </component>
      <component name="ocn">
	<averages_pes queue="mn_small"  nodes="1" pes_per_node="4" wallclock="1:00" memory="2000">4</averages_pes>
	<diagnostics_pes queue="mn_small"  nodes="1" pes_per_node="4" wallclock="1:00" memory="2000">4</diagnostics_pes>
	<obs_root>/scratch/training/CESM_post/obs_root</obs_root> <!-- TODO: move to a permanent dir -->
      </component>
      <component name="ilamb">
	<diagnostics_pes queue="mn_small"  nodes="1" pes_per_node="3" wallclock="6:00" memory="18000">3</diagnostics_pes>
	<initialize_pes queue="mn_small"  nodes="1" pes_per_node="3" wallclock="06:00:10" memory="18000">3</initialize_pes>
	<obs_root>/glade/p/cesm/lmwg_dev/oleson/ILAMB/ILAMB_all</obs_root>
      </component>
      <component name="iomb">
	<diagnostics_pes queue="mn_small"  nodes="1" pes_per_node="3" wallclock="6:00" memory="18000">3</diagnostics_pes>
	<initialize_pes queue="mn_small"  nodes="2" pes_per_node="1" wallclock="00:00:10" memory="18000">3</initialize_pes>
	<obs_root>/glade/p/cesm/omwg/obs_data/IOMB</obs_root>
      </component>
    </components>
  </machine>
  
  
   <machine name="ls5" hostname="login">
    <timeseries_pes queue="mn_small"  nodes="1" pes_per_node="3" wallclock="6:00" memory="18000">3</timeseries_pes>
    <xconform_pes  queue="mn_small" nodes="1" pes_per_node="3" wallclock="6:00" memory="18000">3</xconform_pes>
    <ocn_remap_pes  queue="mn_small" nodes="1" pes_per_node="3" wallclock="6:00" memory="18000">3</ocn_remap_pes>
    <mpi_command>mpirun</mpi_command>
    <pythonpath></pythonpath>
    <za>
      <compiler>ifort</compiler>
      <flags>-c -g -O2</flags>
      <include> -I/opt/cray/pe/netcdf/4.6.1.3/INTEL/16.0/include </include>
      <libs> -L/opt/cray/pe/netcdf/4.6.1.3/INTEL/16.0/lib -lnetcdff -lnetcdf</libs>
    </za>
    <reset_modules>
      <module>module purge</module>
    </reset_modules>	
    <modules>
		<module>ml impi-largemem/18.0.2</module>
		<module>ml intel/18.0.2</module>
		<module>ml python2</module>
		<module>ml ncl_ncarg</module>
		<module>ml nco</module>
		<module>ml hdf5</module>
		<module>ml netcdf</module>
		<module>ml udunits</module>
<!--      <module>export PYTHONPATH=/ihesp/altuntas/CESM_postprocessing_cdf5/pynio/site-packages:$PYTHONPATH</module>
      <module>export PYTHONPATH=/ihesp/altuntas/CESM_postprocessing_cdf5/pynio/build/lib.linux-x86_64-2.7/PyNIO:$PYTHONPATH</module>
      <module>export PYNIOPATH=/ihesp/altuntas/CESM_postprocessing_cdf5/pynio/site-packages/PyNIO</module>-->
    </modules>
    <components>
      <component name="atm">
	<averages_pes queue="mn_small" nodes="1" pes_per_node="3" wallclock="6:00" memory="2000">3</averages_pes>
	<diagnostics_pes queue="mn_small" nodes="1" pes_per_node="3" wallclock="6:00" memory="2000">3</diagnostics_pes>
	<regrid_pes queue="mn_small" nodes="1" pes_per_node="3" wallclock="6:00" memory="18000">3</regrid_pes>
	<obs_root>/work/07931/dunyuliu/group_share/postprocessing/amwg_diag_20140804</obs_root> <!-- TODO: update this and other obs_roots -->
      </component>
      <component name="ice">
	<averages_pes queue="mn_small"  nodes="1" pes_per_node="4" wallclock="1:00" memory="2000">4</averages_pes>
	<diagnostics_pes queue="mn_small"  nodes="1" pes_per_node="4" wallclock="1:00" memory="2000">4</diagnostics_pes>
	<obs_root>/scratch/training/CESM_post/obs_root/pcwg/ice/data</obs_root>
      </component>
      <component name="lnd">
	<averages_pes queue="mn_small"  nodes="1" pes_per_node="3" wallclock="6:00" memory="18000">3</averages_pes>
	<diagnostics_pes queue="mn_small"  nodes="1" pes_per_node="3" wallclock="6:00" memory="18000">3</diagnostics_pes>
	<regrid_pes queue="mn_small" nodes="1" pes_per_node="3" wallclock="02:00:00" memory="18000">3</regrid_pes>
	<obs_root>/glade/p/cesm/lmwg/diag/lnd_diag_data</obs_root>
      </component>
      <component name="ocn">
	<averages_pes queue="mn_small"  nodes="1" pes_per_node="4" wallclock="1:00" memory="2000">4</averages_pes>
	<diagnostics_pes queue="mn_small"  nodes="1" pes_per_node="4" wallclock="1:00" memory="2000">4</diagnostics_pes>
	<obs_root>/scratch/training/CESM_post/obs_root</obs_root> <!-- TODO: move to a permanent dir -->
      </component>
      <component name="ilamb">
	<diagnostics_pes queue="mn_small"  nodes="1" pes_per_node="3" wallclock="6:00" memory="18000">3</diagnostics_pes>
	<initialize_pes queue="mn_small"  nodes="1" pes_per_node="3" wallclock="06:00:10" memory="18000">3</initialize_pes>
	<obs_root>/glade/p/cesm/lmwg_dev/oleson/ILAMB/ILAMB_all</obs_root>
      </component>
      <component name="iomb">
	<diagnostics_pes queue="mn_small"  nodes="1" pes_per_node="3" wallclock="6:00" memory="18000">3</diagnostics_pes>
	<initialize_pes queue="mn_small"  nodes="2" pes_per_node="1" wallclock="00:00:10" memory="18000">3</initialize_pes>
	<obs_root>/glade/p/cesm/omwg/obs_data/IOMB</obs_root>
      </component>
    </components>
  </machine>
</machine_postprocess>

